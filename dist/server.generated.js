module.exports=function(e){var r={};function t(o){if(r[o])return r[o].exports;var a=r[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.l=!0,a.exports}return t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var a in e)t.d(o,a,function(r){return e[r]}.bind(null,a));return o},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="/dist/",t(t.s=27)}([function(e,r){e.exports=function(e){if(!e.webpackPolyfill){var r=Object.create(e);r.children||(r.children=[]),Object.defineProperty(r,"loaded",{enumerable:!0,get:function(){return r.l}}),Object.defineProperty(r,"id",{enumerable:!0,get:function(){return r.i}}),Object.defineProperty(r,"exports",{enumerable:!0}),r.webpackPolyfill=1}return r}},function(e,r,t){"use strict";(function(e){var t;(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const o={env:"production",port:process.env.PORT||3002,jwtSecret:process.env.JWT_SECRET||"YOUR_secret_key",mongoUri:process.env.MONGODB_URI||process.env.MONGO_HOST||"mongodb://"+(process.env.IP||"localhost")+":"+(process.env.MONGO_PORT||"27017")+"/mernproject"},a=o;var n,s;r.a=a,(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(n.register(o,"config","/home/quang/mern/mern-project/config/config.js"),n.register(a,"default","/home/quang/mern/mern-project/config/config.js")),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)}).call(this,t(0)(e))},function(e,r,t){"use strict";(function(e){var o,a=t(6),n=t(21),s=t.n(n),l=t(22),i=t.n(l),d=t(1);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const u=async(e,r)=>{try{let t=await a.a.findOne({email:e.body.email});if(!t)return r.status("401").json({error:"User not found"});if(!t.authenticate(e.body.password))return r.status("401").send({error:"Email and password don't match."});const o=s.a.sign({_id:t._id},d.a.jwtSecret);return r.cookie("t",o,{expire:new Date+9999}),r.json({token:o,user:{_id:t._id,name:t.name,email:t.email}})}catch(e){return r.status("401").json({error:"Could not sign in"})}},c=(e,r)=>(r.clearCookie("t"),r.status("200").json({message:"signed out"})),f=i()({secret:d.a.jwtSecret,userProperty:"auth",algorithms:["RS256"]}),p=(e,r,t)=>{if(!(e.profile&&e.auth&&e.profile._id==e.auth._id))return r.status("403").json({error:"User is not authorized"});t()},m={signin:u,signout:c,requireSignin:f,hasAuthorization:p};var g,b;r.a=m,(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(u,"signin","/home/quang/mern/mern-project/server/controllers/auth.controller.js"),g.register(c,"signout","/home/quang/mern/mern-project/server/controllers/auth.controller.js"),g.register(f,"requireSignin","/home/quang/mern/mern-project/server/controllers/auth.controller.js"),g.register(p,"hasAuthorization","/home/quang/mern/mern-project/server/controllers/auth.controller.js"),g.register(m,"default","/home/quang/mern/mern-project/server/controllers/auth.controller.js")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)}).call(this,t(0)(e))},function(e,r){e.exports=require("express")},function(e,r){e.exports=require("mongoose")},function(e,r,t){"use strict";(function(e){var o,a=t(6),n=t(20),s=t.n(n),l=t(7);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const i=async(e,r)=>{const t=new a.a(e.body);try{return await t.save(),r.status(200).json({message:"Successfully signed up!"})}catch(e){return r.status(400).json({error:l.a.getErrorMessage(e)})}},d=async(e,r,t,o)=>{try{let n=await a.a.findById(o);if(!n)return r.status("400").json({error:"User not found"});e.profile=n,t()}catch(e){return r.status("400").json({error:"Could not retrieve user"})}},u=(e,r)=>(e.profile.hashed_password=void 0,e.profile.salt=void 0,r.json(e.profile)),c=async(e,r)=>{try{let e=await a.a.find().select("name email updated created");r.json(e)}catch(e){return r.status(400).json({error:l.a.getErrorMessage(e)})}},f=async(e,r)=>{try{let t=e.profile;t=s()(t,e.body),t.updated=Date.now(),await t.save(),t.hashed_password=void 0,t.salt=void 0,r.json(t)}catch(e){return r.status(400).json({error:l.a.getErrorMessage(e)})}},p=async(e,r)=>{try{let t=e.profile,o=await t.remove();o.hashed_password=void 0,o.salt=void 0,r.json(o)}catch(e){return r.status(400).json({error:l.a.getErrorMessage(e)})}},m={create:i,userByID:d,read:u,list:c,remove:p,update:f};var g,b;r.a=m,(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(i,"create","/home/quang/mern/mern-project/server/controllers/user.controller.js"),g.register(d,"userByID","/home/quang/mern/mern-project/server/controllers/user.controller.js"),g.register(u,"read","/home/quang/mern/mern-project/server/controllers/user.controller.js"),g.register(c,"list","/home/quang/mern/mern-project/server/controllers/user.controller.js"),g.register(f,"update","/home/quang/mern/mern-project/server/controllers/user.controller.js"),g.register(p,"remove","/home/quang/mern/mern-project/server/controllers/user.controller.js"),g.register(m,"default","/home/quang/mern/mern-project/server/controllers/user.controller.js")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)}).call(this,t(0)(e))},function(e,r,t){"use strict";(function(e){var o,a=t(4),n=t.n(a),s=t(19),l=t.n(s);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const i=new n.a.Schema({name:{type:String,trim:!0,required:"Name is required"},email:{type:String,trim:!0,unique:"Email already exists",match:[/.+\@.+\..+/,"Please fill a valid email address"],required:"Email is required"},created:{type:Date,default:Date.now},hashed_password:{type:String,required:"Password is required"},updated:Date,salt:String});i.virtual("password").set((function(e){this._password=e,this.salt=this.makeSalt(),this.hashed_password=this.encryptPassword(e)})).get((function(){return this._password})),i.methods={authenticate:function(e){return this.encryptPassword(e)===this.hashed_password},encryptPassword:function(e){if(!e)return"";try{return l.a.createHmac("sha1",this.salt).update(e).digest("hex")}catch(e){return""}},makeSalt:function(){return Math.round((new Date).valueOf()*Math.random())+""}},i.path("hashed_password").validate((function(e){this._password&&this._password.length<6&&this.invalidate("password","Password must be at least 6 characters."),this.isNew&&!this._password&&this.invalidate("password","Password is required")}),null);const d=n.a.model("User",i);var u,c;r.a=d,(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(i,"UserSchema","/home/quang/mern/mern-project/server/models/user.model.js"),u.register(d,"default","/home/quang/mern/mern-project/server/models/user.model.js")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)}).call(this,t(0)(e))},function(e,r,t){"use strict";(function(e){var t;(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const o=e=>{let r;try{let t=e.message.substring(e.message.lastIndexOf(".$")+2,e.message.lastIndexOf("_1"));r=t.charAt(0).toUpperCase()+t.slice(1)+" already exists"}catch(e){r="Unique field already exists"}return r},a=e=>{let r="";if(e.code)switch(e.code){case 11e3:case 11001:r=o(e);break;default:r="Something went wrong"}else for(let t in e.errors)e.errors[t].message&&(r=e.errors[t].message);return r},n={getErrorMessage:a};var s,l;r.a=n,(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(s.register(o,"getUniqueErrorMessage","/home/quang/mern/mern-project/server/helpers/dbErrorHandler.js"),s.register(a,"getErrorMessage","/home/quang/mern/mern-project/server/helpers/dbErrorHandler.js"),s.register(n,"default","/home/quang/mern/mern-project/server/helpers/dbErrorHandler.js")),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)}).call(this,t(0)(e))},function(e,r){e.exports=require("path")},function(e,r){e.exports=require("webpack")},function(e,r){e.exports=require("body-parser")},function(e,r,t){(function(e){var r;(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const o=t(8),a=t(9),n=process.cwd(),s={name:"browser",mode:"development",devtool:"eval-source-map",entry:["webpack-hot-middleware/client?reload=true",o.join(n,"client/main.js")],output:{path:o.join(n,"/dist"),filename:"bundle.js",publicPath:"/dist/"},module:{rules:[{test:/\.jsx?$/,exclude:/node_modules/,use:["babel-loader"]},{test:/\.(ttf|eot|svg|gif|jpg|png)(\?[\s\S]+)?$/,use:"file-loader"}]},plugins:[new a.HotModuleReplacementPlugin,new a.NoEmitOnErrorsPlugin],resolve:{alias:{"react-dom":"@hot-loader/react-dom"}}};var l,i;e.exports=s,(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(n,"CURRENT_WORKING_DIR","/home/quang/mern/mern-project/webpack.config.client.js"),l.register(s,"config","/home/quang/mern/mern-project/webpack.config.client.js")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,t(29)(e))},function(e,r,t){"use strict";(function(e){var o,a=t(3),n=t.n(a),s=t(8),l=t.n(s),i=t(10),d=t.n(i),u=t(13),c=t.n(u),f=t(14),p=t.n(f),m=t(15),g=t.n(m),b=t(16),h=t.n(b),v=t(17),y=t(18),j=t(23),H=t(24);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const G=n()();H.a.compile(G),G.use(d.a.json()),G.use(d.a.urlencoded({extended:!0})),G.use(c()()),G.use(p()()),G.use(h()()),G.use(g()()),G.use("/",y.a),G.use("/",j.a);const L=process.cwd();G.use("/dist",n.a.static(l.a.join(L,"dist"))),G.get("/",(e,r)=>{r.status(200).send(Object(v.a)())}),G.use((e,r,t,o)=>{"UnauthorizedError"===e.name?t.status(401).json({error:e.name+": "+e.message}):e&&(t.status(400).json({error:e.name+": "+e.message}),console.log(e))});const w=G;var q,x;r.a=w,(q="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(q.register(G,"app","/home/quang/mern/mern-project/server/express.js"),q.register(L,"CURRENT_WORKING_DIR","/home/quang/mern/mern-project/server/express.js"),q.register(w,"default","/home/quang/mern/mern-project/server/express.js")),(x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&x(e)}).call(this,t(0)(e))},function(e,r){e.exports=require("cookie-parser")},function(e,r){e.exports=require("compression")},function(e,r){e.exports=require("cors")},function(e,r){e.exports=require("helmet")},function(e,r,t){"use strict";(function(e){var t;(t="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const o=()=>'<!doctype html>\n        <html lang="en">\n            <head>\n                <meta charset="utf-8">\n                <title>MERN Skeleton</title>\n                <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,300,400">\n                <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">\n            </head>\n            <body>\n                <div id="root"></div>\n                <script type="text/javascript" src="/dist/bundle.js"><\/script>\n            </body>\n            \n        </html>';var a,n;r.a=o,(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(o,"default","/home/quang/mern/mern-project/template.js"),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)}).call(this,t(0)(e))},function(e,r,t){"use strict";(function(e){var o,a=t(3),n=t.n(a),s=t(5),l=t(2);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const i=n.a.Router();i.route("/api/users").get(s.a.list).post(s.a.create),i.route("/api/users/:userId").get(l.a.requireSignin,s.a.read).put(l.a.requireSignin,l.a.hasAuthorization,s.a.update).delete(l.a.requireSignin,l.a.hasAuthorization,s.a.remove),i.param("userId",s.a.userByID);const d=i;var u,c;r.a=d,(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(i,"router","/home/quang/mern/mern-project/server/routes/user.routes.js"),u.register(d,"default","/home/quang/mern/mern-project/server/routes/user.routes.js")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)}).call(this,t(0)(e))},function(e,r){e.exports=require("crypto")},function(e,r){e.exports=require("lodash/extend")},function(e,r){e.exports=require("jsonwebtoken")},function(e,r){e.exports=require("express-jwt")},function(e,r,t){"use strict";(function(e){var o,a=t(3),n=t.n(a),s=t(2);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const l=n.a.Router();l.route("/auth/signin").post(s.a.signin),l.route("/auth/signout").get(s.a.signout);const i=l;var d,u;r.a=i,(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(l,"router","/home/quang/mern/mern-project/server/routes/auth.routes.js"),d.register(i,"default","/home/quang/mern/mern-project/server/routes/auth.routes.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)}).call(this,t(0)(e))},function(e,r,t){"use strict";(function(e){var o,a=t(1),n=t(9),s=t.n(n),l=t(25),i=t.n(l),d=t(26),u=t.n(d),c=t(11),f=t.n(c);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const p=e=>{if("development"===a.a.env){const r=s()(f.a),t=i()(r,{publicPath:f.a.output.publicPath});e.use(t),e.use(u()(r))}},m={compile:p};var g,b;r.a=m,(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(p,"compile","/home/quang/mern/mern-project/server/devBundle.js"),g.register(m,"default","/home/quang/mern/mern-project/server/devBundle.js")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)}).call(this,t(0)(e))},function(e,r){e.exports=require("webpack-dev-middleware")},function(e,r){e.exports=require("webpack-hot-middleware")},function(e,r,t){e.exports=t(28)},function(e,r,t){"use strict";t.r(r);var o=t(1),a=t(12),n=t(4),s=t.n(n);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;s.a.Promise=global.Promise,s.a.connect(o.a.mongoUri,{useNewUrlParser:!0,useCreateIndex:!0,useUnifiedTopology:!0}),s.a.connection.on("error",()=>{throw new Error("unable to connect to database: "+mongoUri)}),a.a.listen(o.a.port,e=>{e&&console.log(e),console.info("Server started on port %s.",o.a.port)})},function(e,r){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}]);